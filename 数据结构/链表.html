<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var Linklist = function () {
            //链表头
            var head = null
            //链表长度
            var length = 0

            //辅助类：节点
            var Node = function (element) {
                this.element = element
                this.next = null
            }
            //从链表的最后插入节点
            this.append = function (element) {
                var node = new Node(element)
                if (head == null) {
                    head = node
                } else {
                    var current = head
                    while (current.next) {
                        current = current.next
                    }
                    //while循环执行完之后，current已经是链表最后一项了
                    current.next = node
                }
                length++
            }
            this.getlist = function () {
                return head
            }

            //从链表的任意位置插入节点
            this.insert = function (position, element) {
                if (position > -1 && position < length + 1) {
                    var node = new Node(element)
                    if (position == 0) {
                        var current = head
                        head = node
                        head.next = current
                    } else {
                        var index = 0
                        var current = head
                        var previous = null
                        while (index < position) {
                            previous = current
                            current = current.next
                            index++
                        }
                        previous.next = node
                        node.next = current
                    }
                }
                length++
            }
            //从链表的任意位置删除节点
            this.removeAt = function (position) {
                if (position > -1 && position < length) {
                    if (position == 0) {
                        var current = head
                        head = current.next
                    } else {
                        var current = head
                        var previous = null
                        var index = 0
                        while (index < position) {
                            previous = current
                            current = current.next
                            index++
                        }
                        previous.next = current.next
                    }
                    length--
                    return current
                }
                return null
            }
            //传入一个element获取它在链表中的索引
            this.indexOf=function(element){
                var current =head
                var index =0
                while(current){
                    if(current.element==element){
                        return index
                    }
                    current =current.next
                    index++
                }
                return -1
            }
            //根据传入的element从列表中删除
            this.remove=function(element){
                return this.removeAt(this.indexOf(element))
            }
            //检查链表是否为空
            this.isEmpty=function(){
                return length==0
            }
            //检查链表的长度
            this.size=function(){
                return length
            }
        }
        var list = new Linklist()
        list.append(1)
        list.append(2)
        list.append(3)
        list.insert(3, 10)
        list.removeAt(3)
        list.indexOf(2)
        list.remove(2)
    </script>
</body>

</html>